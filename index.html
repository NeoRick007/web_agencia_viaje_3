<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Estilos.css">
    <title>Agencia de Viajes</title>
</head>
<body>
    <header>
        <h1>Bienvenido a Nuestra Agencia de Viajes</h1>
        <a href="Formulario_vuelos_hoteles.html"><input type="button" value="Reserve su vuelo aca!"></a>
        <a href="consulta.html"><input type="button" value="Consulta avanzada de vuelos y hoteles"></a>
    </header>

    <script>
        // Enviar solicitudes AJAX cada 5 minutos para mantener la sesión activa
        setInterval(function() {
            fetch('/keep_alive.php');
        }, 300000); // 5 minutos
    </script>

    <div class="mensaje-usd">
        <p><center>Todos los valores están en dólares (USD).</center></p>
    </div>

    <?php include 'notificaciones.php'; ?>

    <h3><center>Elije uno de nuestros destinos disponibles</center></h3>
    <nav class="cinta-opciones">
        <button id="destino-cartagena" class="opcion" onclick="seleccionarDestino('Cartagena', 500)">Cartagena desde 05-08-2024 al 12-08-2024 - $500</button>
        <button id="destino-san-andres" class="opcion" onclick="seleccionarDestino('San Andrés', 600)">San Andrés desde 20-09-2024 al 27-09-2024 - $600</button>
        <button id="destino-medellin" class="opcion" onclick="seleccionarDestino('Medellín', 450)">Medellín desde 01-07-2024 al 07-07-2024 - $450</button>
        <button id="destino-bogota" class="opcion" onclick="seleccionarDestino('Bogotá', 550)">Bogotá desde 15-07-2024 al 22-07-2024 - $550</button>
        <button id="destino-lima" class="opcion" onclick="seleccionarDestino('Lima', 700)">Lima desde 10-08-2024 al 17-08-2024 - $700</button>
        <button id="destino-buenos-aires" class="opcion" onclick="seleccionarDestino('Buenos Aires', 800)">Buenos Aires desde 01-09-2024 al 08-09-2024 - $800</button>
        <button id="destino-santiago" class="opcion" onclick="seleccionarDestino('Santiago', 650)">Santiago desde 05-10-2024 al 12-10-2024 - $650</button>
        <button id="destino-montevideo" class="opcion" onclick="seleccionarDestino('Montevideo', 750)">Montevideo desde 10-11-2024 al 17-11-2024 - $750</button>
        <button id="destino-rio-de-janeiro" class="opcion" onclick="seleccionarDestino('Río de Janeiro', 900)">Río de Janeiro desde 01-12-2024 al 08-12-2024 - $900</button>
        <button id="destino-la-paz" class="opcion" onclick="seleccionarDestino('La Paz', 400)">La Paz desde 10-07-2024 al 17-07-2024 - $400</button>
    </nav>

    <main>
        <div class="search-container">
            <h2>Busca tu destino soñado</h2>
            <input type="text" id="destination" placeholder="Destino">
            <input type="date" id="travel-start-date">
            <input type="date" id="travel-end-date">
            <button onclick="search()">Buscar</button>
            <button onclick="clearFilters()">Limpiar</button>
        </div>
        <div id="results-container">
            <!-- Los resultados de la búsqueda se mostrarán aquí -->
            <?php include 'procesar_formulario.php'; ?>
        </div>
        <!-- Formulario para agregar paquetes al carrito -->
        <div class="add-to-cart">
            <h2>Inicia sesión para agregar paquetes al carrito</h2>
            <form method="post" action="login.php">
                <label for="username">Usuario:</label>
                <input type="text" name="username" id="username" required>
                <label for="password">Contraseña:</label>
                <input type="password" name="password" id="password" required>
                <button type="submit">Iniciar Sesión</button>
            </form>
        </div>
        <div class="add-to-cart">
            <h2>Agrega un paquete al carrito</h2>
            <form method="post" action="carrito.php">
                <label for="package_id">Nombre del Paquete:</label>
                <input type="text" name="package_id" id="package_id" required>
                <button type="submit">Añadir al carrito</button>
            </form>
            <a href="carrito.php">Ver Carrito</a>
            <form method="post" action="carrito.php">
                <button type="submit" name="action" value="clear">Limpiar Carrito</button>
            </form>
        </div>
    </main>

    <aside id="notifications-container">
        <!-- Las notificaciones en tiempo real se mostrarán aquí -->
    </aside>

    <footer>
        <p class="footer-text">&copy; 2024 Agencia de Viajes. Todos los derechos reservados.</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
